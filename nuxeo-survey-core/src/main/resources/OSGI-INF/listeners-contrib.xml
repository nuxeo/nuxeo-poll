<?xml version="1.0" encoding="UTF-8"?>
<component name="org.nuxeo.ecm.survey.listeners">

  <extension target="org.nuxeo.ecm.core.event.EventServiceComponent"
    point="listener">

    <listener name="updateSurveyStatusListener" async="false"
      postCommit="true" class="org.nuxeo.ecm.survey.listeners.UpdateSurveyStatusListener"
      priority="50">
      <event>documentCreated</event>
      <event>documentModified</event>
    </listener>

    <listener name="updateAllSurveyStatusListener" async="true"
      postCommit="false" class="org.nuxeo.ecm.survey.listeners.UpdateAllSurveysStatusListener"
      priority="1">
      <event>updateSurveysStatus</event>
    </listener>

  </extension>

</component>
