<div xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core"
  class="actions_block"
  id="#{widget.id}">

  <h:outputText value="#{messages['label.summary.survey.status']} "/>
  <div>
    <c:if test="#{surveyActions.toSurvey(value).inProject}">
      <h:outputText styleClass="status project" value="#{messages[currentDocument.currentLifeCycleState]}" />
      <h:commandLink styleClass="surveyStatusAction" value="#{messages['command.survey.open']}"
        action="#{surveyActions.openSurvey(value)}"
        immediate="true" />
    </c:if>

    <c:if test="#{surveyActions.toSurvey(value).open}">
      <h:outputText styleClass="status open" value="#{messages[currentDocument.currentLifeCycleState]}" />
      <h:commandLink styleClass="surveyStatusAction" value="#{messages['command.survey.close']}"
        action="#{surveyActions.closeSurvey(value)}"
        immediate="true" />
    </c:if>

    <c:if test="#{surveyActions.toSurvey(value).closed}">
      <h:outputText styleClass="status closed" value="#{messages[currentDocument.currentLifeCycleState]}" />
    </c:if>

  </div>
</div>
